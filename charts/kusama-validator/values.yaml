# Validator identity
validatorName: ""
stashAccount: ""
controllerAccount: ""

# Chain configuration
chain: kusama
# Options: kusama, polkadot, westend (testnet)

# Polkadot binary version
# Check releases: https://github.com/paritytech/polkadot-sdk/releases
image:
  repository: parity/polkadot
  # Pin to a specific version for production!
  # Examples: v1.7.0, stable, latest
  tag: stable
  pullPolicy: IfNotPresent

# Node configuration
node:
  # Validator name shown on telemetry
  name: ""
  # Enable validator mode
  validator: true
  # RPC settings
  # Note: 'unsafe' is required for key rotation (author_rotateKeys).
  # Security is handled via ClusterIP (internal only) and Firewall (blocked from internet).
  rpcMethods: unsafe
  # Telemetry
  telemetryUrl: "wss://telemetry.polkadot.io/submit/ 0"

# Sync configuration - speeds up initial sync dramatically
sync:
  # Sync mode: full, fast, warp
  # - warp: Fastest! Downloads finality proofs (~minutes)
  # - fast: Downloads recent blocks
  # - full: Downloads all blocks (slowest, days)
  mode: warp

  # Database snapshot restore (optional, for even faster startup)
  snapshot:
    enabled: false
    # URL from polkashots.io, stakeworld.io, etc.
    url: ""
    # Compression: lz4 or gz
    compression: lz4

# Resource allocation
resources:
  requests:
    cpu: "500m"
    memory: "2Gi"
  limits:
    cpu: "8"
    memory: "16Gi"

# Persistent storage for chain data
persistence:
  enabled: true
  size: 50Gi
  storageClass: "" # Use default

# Service configuration
service:
  type: ClusterIP
  p2pPort: 30333
  rpcPort: 9933
  wsPort: 9944
  prometheusPort: 9615

# Expose P2P externally
p2pNodePort:
  enabled: true
  port: 30333 # Will be auto-assigned if empty

# Session keys (managed via Sealed Secrets)
sessionKeys:
  # If true, generate keys on startup
  autoGenerate: true
  # Secret name containing pre-generated keys
  existingSecret: ""

# Pod scheduling
affinity:
  # Spread validators across nodes
  podAntiAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      - labelSelector:
          matchLabels:
            app.kubernetes.io/name: kusama-validator
        topologyKey: kubernetes.io/hostname

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Prometheus monitoring
metrics:
  enabled: true
  serviceMonitor:
    enabled: false # Enable if using Prometheus Operator

# Liveness/Readiness probes
probes:
  liveness:
    enabled: true
    initialDelaySeconds: 60
    periodSeconds: 30
  readiness:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 10
